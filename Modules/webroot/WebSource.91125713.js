let callbackId=0;function executeCommand(e,t={}){return new Promise((o,d)=>{let a=`exec_callback_${Date.now()}_${callbackId++}`;function l(e){delete window[e]}window[a]=(e,t,d)=>{o({errno:e,stdout:t,stderr:d}),l(a)};try{ksu.exec(e,JSON.stringify(t),a)}catch(e){d(e),l(a)}})}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("moduleOnButton"),t=document.getElementById("moduleOffButton"),o=document.getElementById("moduleValueSlider"),d=document.getElementById("sliderValueDisplay");o.addEventListener("input",()=>{d.textContent=o.value}),e.addEventListener("click",async()=>{try{let e=o.value,t=`echo 'service call SurfaceFlinger 1022 f ${e}' > /data/adb/modules/AyundaRusdi/AyundaRisu/ModuleOn.sh`,d=await executeCommand(t);if(0!==d.errno){console.error("Failed to save setting:",d.stderr),ksu.toast("Error saving setting: "+d.stderr);return}console.log("Setting saved to ModuleOn.sh successfully!"),ksu.toast("Setting saved!");let a=await executeCommand("sh /data/adb/modules/AyundaRusdi/AyundaRisu/ModuleOn.sh");0===a.errno?(console.log("Module enabled with value:",e),ksu.toast(`Module enabled with value: ${e}`)):(console.error("Module enable failed:",a.stderr),ksu.toast("Failed to apply setting: "+a.stderr))}catch(e){console.error("Error:",e),ksu.toast("Error: "+e.message)}}),t.addEventListener("click",async()=>{try{let{errno:e,stdout:t,stderr:o}=await executeCommand("sh /data/adb/modules/AyundaRusdi/AyundaRisu/ModuleOff.sh");0===e?(console.log("Module disabled:",t),ksu.toast("Module disabled successfully!")):(console.error("Module disable failed:",o),ksu.toast("Failed to disable module: "+o))}catch(e){console.error("Error:",e),ksu.toast("Error: "+e.message)}})});
//# sourceMappingURL=WebSource.91125713.js.map
