let callbackId=0;function executeCommand(e,t={}){return new Promise((d,a)=>{let o=`exec_callback_${Date.now()}_${callbackId++}`;function l(e){delete window[e]}window[o]=(e,t,a)=>{d({errno:e,stdout:t,stderr:a}),l(o)};try{ksu.exec(e,JSON.stringify(t),o)}catch(e){a(e),l(o)}})}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("moduleOnButton"),t=document.getElementById("moduleOffButton"),d=document.getElementById("moduleValueSlider"),a=document.getElementById("sliderValueDisplay"),o=async()=>{try{let e=d.value,t=`echo 'service call SurfaceFlinger 1022 f ${e}' > /data/adb/modules/AyundaRusdi/AyundaRisu/ModuleOn.sh && sh /data/adb/modules/AyundaRusdi/AyundaRisu/ModuleOn.sh`,a=await executeCommand(t);0===a.errno?console.log("Setting applied with value:",e):(console.error("Failed to apply setting:",a.stderr),ksu.toast("Failed to apply setting: "+a.stderr))}catch(e){console.error("Error:",e),ksu.toast("Error: "+e.message)}};d.addEventListener("input",()=>{a.textContent=d.value}),d.addEventListener("change",o),e.addEventListener("click",o),t.addEventListener("click",async()=>{try{let{errno:e,stdout:t,stderr:d}=await executeCommand("sh /data/adb/modules/AyundaRusdi/AyundaRisu/ModuleOff.sh");0===e?(console.log("Module disabled:",t),ksu.toast("Module disabled successfully!")):(console.error("Module disable failed:",d),ksu.toast("Failed to disable module: "+d))}catch(e){console.error("Error:",e),ksu.toast("Error: "+e.message)}})});
//# sourceMappingURL=WebSource.198ee215.js.map
